# 「力扣」第 901 题：股票价格跨度

- 题目链接：[901. 股票价格跨度](https://leetcode.cn/problems/online-stock-span/)

**要点**：

+ 恰好符合了「后进先出」；
+ 记录下标：我们需要下标的值来计算「连续的天数有多少」；
+ 使用「哨兵」

```java
import java.util.ArrayDeque;
import java.util.ArrayList;
import java.util.Deque;
import java.util.List;

public class StockSpanner {

    private List<Integer> stock;

    /**
     * 这个是栈，只用和栈相关的接口
     */
    private Deque<Integer> indexes;

    /**
     * 下一个要看到的元素的下标
     */
    private int index;

    public StockSpanner() {
        stock = new ArrayList<>();
        // 哨兵
        stock.add(10_0000 + 1);

        indexes = new ArrayDeque<>();
        indexes.addLast(0);
        index = 0;
    }

    public int next(int price) {
        index++;
        while (!indexes.isEmpty() && stock.get(indexes.peekLast()) <= price) {
            indexes.removeLast();
        }

        int res = index - indexes.peekLast();
        stock.add(price);
        indexes.addLast(index);
        return res;
    }
}
```




---

作者：liweiwei1419
链接：https://suanfa8.com/stack/solutions-2/0901-online-stock-span
来源：算法吧
著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。